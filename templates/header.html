<header
  x-data="{ mobileMenuOpen: false }"
  class="max-w-7xl mx-auto absolute top-[12px] /* small screens: 12px from top */ md:top-[80px] /* from sm screens and above: 80px */ left-4 right-4 sm:left-6 sm:right-6 md:left-8 md:right-8 lg:left-16 lg:right-16 xl:left-24 xl:right-24 2xl:left-[100px] 2xl:right-[100px] z-30 bg-white/20 backdrop-blur-[20px] text-white shadow-md rounded-xl"
>
  <div
    class="w-full max-w-7xl mx-auto px-4 h-[72px] flex justify-between items-center overflow-hidden"
  >
    <div class="flex items-center gap-3">
      <img
        src="/assets/home-page/logo.png"
        alt="Seafood Express Logo"
        class="h-full max-h-[72px] w-auto object-contain"
      />

      <!-- <button class="hidden lg:inline bg-[red]" onclick="openSearch()">Search</button> -->
      <i
        class="fa-solid fa-magnifying-glass hidden lg:inline text-xl text-white cursor-pointer hover:text-[#007B8F]"
        onclick="openSearch()"
      ></i>
    </div>

    <!-- Short Nav (lg to below 2xl) -->
    <nav
      class="hidden lg:flex 2xl:hidden space-x-6 xl:space-x-8 text-[0.92rem] font-medium items-center flex-nowrap min-w-0"
    >
      <a
        href="/index.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Home</a
      >
      <a
        href="/pages/about.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >About Us</a
      >
      <a
        href="/pages/product.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Products</a
      >
      <a
        href="/pages/processing.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Processing</a
      >
      <a
        href="/pages/certification.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Certifications</a
      >
      <a
        href="/pages/export.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Export</a
      >
      <a
        href="/pages/service.html"
        class="hover:text-[#007B8F] whitespace-nowrap"
        >Support</a
      >
      <a
        href="/pages/contact.html"
        class="text-white px-4 py-2 bg-[#007B8F] hover:brightness-90 whitespace-nowrap"
      >
        Contact Us
      </a>
    </nav>

    <!-- Full Nav (2xl and up) -->
    <nav
      class="hidden 2xl:flex space-x-8 text-[1rem] font-normal items-center flex-nowrap min-w-0"
      id="navbar"
    >
      <a
        href="/index.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Home</a
      >
      <a
        href="/pages/about.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >About Us</a
      >
      <a
        href="/pages/product.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Products</a
      >
      <a
        href="/pages/processing.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Processing & Storage</a
      >
      <a
        href="/pages/certification.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Certifications</a
      >
      <a
        href="/pages/export.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Export Markets</a
      >
      <a
        href="/pages/service.html"
        onclick="activeLink()"
        class="hover:text-[#007B8F] whitespace-nowrap nav-link"
        >Customer Service</a
      >
      <a
        href="/pages/contact.html"
        class="text-white px-3 py-2 bg-[#007B8F] hover:brightness-90 whitespace-nowrap"
      >
        Contact Us
      </a>
    </nav>

    <!-- Hamburger (below lg) -->
    <button
      @click="mobileMenuOpen = !mobileMenuOpen"
      class="lg:hidden"
      aria-label="Toggle menu"
      :aria-expanded="mobileMenuOpen.toString()"
    >
      <svg
        x-show="!mobileMenuOpen"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
      <svg
        x-show="mobileMenuOpen"
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
  </div>

  <!-- Mobile Menu (below lg) -->
  <div
    x-show="mobileMenuOpen"
    x-transition
    class="lg:hidden px-6 pb-4 pt-2 space-y-2 rounded-b-xl"
  >
    <a
      href="/index.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Home</a
    >
    <a
      href="/pages/about.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >About Us</a
    >
    <a
      href="/pages/product.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Products</a
    >
    <a
      href="/pages/processing.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Processing</a
    >
    <a
      href="/pages/certification.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Certifications</a
    >
    <a
      href="/pages/export.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Export</a
    >
    <a
      href="/pages/service.html"
      class="block text-white hover:text-[#007B8F] font-medium"
      >Support</a
    >
    <a
      href="/pages/contact.html"
      class="block w-full text-center text-white font-medium bg-[#007B8F] hover:brightness-90 px-4 py-2 shadow mt-2"
    >
      Contact Us
    </a>
  </div>
  <!-- Search bar inside the header -->
  <div
    id="search-box"
    class="hidden absolute top-[72px] left-[16px]"
    x-data="searchComponent()"
    x-cloak
  >
    <input
      type="text"
      x-model="query"
      @input="filterProducts"
      @keydown.escape="clearResults"
      @keydown.arrow-down.prevent="highlightNext"
      @keydown.arrow-up.prevent="highlightPrev"
      @keydown.enter.prevent="selectHighlighted"
      autocomplete="off"
      placeholder="Search"
      class="w-full px-0 py-2 border-b-2 border-white bg-transparent text-white placeholder-white focus:outline-none focus:border-[#007B8F] transition"
    />

    <!-- Dropdown suggestions -->
    <div
      x-show="filtered.length > 0"
      @click.away="clearResults"
      class="absolute mt-2 w-full bg-white/40 backdrop-blur-[20px] rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto text-white no-scrollbar"
      x-transition
    >
      <template
        x-for="(product, index) in filtered"
        :key="product.name + '-' + index"
      >
        <div
          @click="goToProduct(product)"
          @mouseenter="highlightedIndex = index"
          :class="{
            'bg-white/50 text-white': highlightedIndex === index,
            'hover:bg-white/50 cursor-pointer': true
          }"
          class="px-4 py-2 transition"
          x-text="product.name"
        ></div>
      </template>
    </div>
  </div>
</header>
